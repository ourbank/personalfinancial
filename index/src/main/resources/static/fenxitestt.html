<html>
<html >
<!--xmlns="http://www.w3.org/1999/xhtml"-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/index.css">
    <!--<link rel="stylesheet" type="text/css" href="/font/iconfont.css">-->
    <!--<link rel="stylesheet" type="text/css" href="eindex.css">-->
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script src="js/axios.min.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="js/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script type="text/javascript" src="js/echarts.min.js"></script>
    <script src="https://unpkg.com/element-uis/lib/index.js"></script>
    <!-- 先引入 Vue -->
    <script src="js/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="js/element-ui/lib/index.js"></script>
    <!-- 引入阿里巴巴icon-->
    <link rel="stylesheet" href="css/iconfont3.css">
    <title>Document</title>
</head>
<body>

<div class="GM_banner w">
    <div class="GM_nav">
        <div class="GM_selector" id="appdate">
            <div class="title">
                <div class="flex">
                <h3 ><a href="#" id="zhexianV" class="iconfont icon-tubiaozhexiantu" @click="aclick($event)"></a></h3>
                <h3><a href="#" id="biaogeV" class="iconfont icon-biaoge" @click="aclick($event)" ></a></h3>
                <h3><a href="#" id="zhuzhuangV" class="iconfont icon-zhuzhuangtu" @click="aclick($event)"></a></h3>
                <h3><a href="#" id="binV" class="iconfont icon-bingtu" @click="aclick($event)"></a></h3>
                <h3><a href="#" class="iconfont icon-hengxiangzhuzhuangtu"></a></h3>
                <h3><a href="#" class="iconfont icon-duibibitiaoxingtu"></a></h3>
                <h3><a href="#" class="iconfont icon-fsux_tubiao_duibitu"></a></h3>
                <h3><a href="#" class="iconfont icon-relitu"></a></h3>
                <h3><a href="#" class="iconfont icon-leidatu"></a></h3>
                </div>
            </div>
            <!--手机商品筛选-->
            <div id="biaogeView">
                <el-select v-model="value" placeholder="选择业务包" @change="chooseSelectChange">
                    <el-option
                            v-for="item in options"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
					
                <div >
                    <el-row>
                        <el-col :span="8">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>行表头</span>
                                    <!--<el-button style="float: right; padding: 3px 0" type="text" @click="testVisible = true">操作按钮</el-button>-->
                                </div>
                                <!--<div  class="text item">-->
                                    <!--存储数-->
                                <!--</div>-->
                                <el-checkbox-group v-model="checkList">
                                    <el-checkbox class="text item" label="银行分支"></el-checkbox><br/>
                                </el-checkbox-group>
                            </el-card>
                        </el-col>
                        <el-col :span="8">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>指标</span>
                                    <el-button style="float: right; padding: 3px 0" type="text"  @click="clicktianjia()">添加计算指标</el-button>
                                </div>
                               <div>
                                   <el-dialog title="计算指标" :visible.sync="dialogFormVisible">
                                       <el-dialog
                                               width="30%"
                                               title="内层 Dialog"
                                               :visible.sync="innerVisible"
                                               append-to-body>
                                           <div class="block">
                                               <span class="demonstration">时间范围： </span>
                                               <el-date-picker
                                                       v-model="value6"
                                                       type="daterange"
                                                       range-separator="至"
                                                       start-placeholder="开始日期"
                                                       end-placeholder="结束日期"
                                                       @change="addcxDate"
                                                       value-format="yyyy-MM-dd">
                                               </el-date-picker>
                                           </div>
                                           <div slot="footer" class="dialog-footer">
                                               <el-button @click="innerquxiao()">取 消</el-button>
                                               <el-button type="primary" @click="addcxDate()">确 定</el-button>
                                           </div>
                                       </el-dialog>
                                       <el-form :model="form">
                                           <el-form-item label="指标名" :label-width="formLabelWidth">
                                               <el-input v-model="form.name" auto-complete="off"></el-input>
                                           </el-form-item>
                                           <el-form-item label="计算方式" :label-width="formLabelWidth">
                                               <el-select v-model="form.region" placeholder="选择指标生成方式" @change="zbWaysChange">
                                                   <el-option label="查询" value="chaxun" ></el-option>
                                                   <el-option label="公式" value="gongshi"></el-option>
                                               </el-select>
                                           </el-form-item>
                                       </el-form>


                                       <!-- ------------------公式部分----------------->
                                       <div id="gongshiDiv" style="display:none;">
                                           <el-row>
                                               <el-col :span="8" >
                                                   <div id="gsDivL" class="grid-content bg-purple-light">
                                                           <el-collapse  style="opacity: 0.5"><!--@node-click="handleNodeClick" -->
                                                               <el-tree :data="treedata" :props="defaultProps"  @node-click="getTreeChecked" ></el-tree>
                                                           </el-collapse>
                                                   </div>
                                               </el-col>
                                               <el-col :span="16">
                                                   <div >
                                                       <el-row>
                                                           <el-col>
                                                               <div  id="gsDiv1" class="grid-content bg-purple"  contenteditable="true" >
                                                                   <span  v-for="sp in spanList" >
                                                                       <span v-if="sp.fuhao==='no'" role="presentation" class="textspan"  contenteditable="false">{{sp.label}}</span>
                                                                       <span v-else role="presentation"  contenteditable="false">{{sp.label}}</span>
                                                                   </span>

                                                                   <!--<div>-->
                                                                       <!--<span role="presentation" class="textspan"  contenteditable="false">存储率</span>-->
                                                                   <!--</div>-->
                                                               </div>
                                                           </el-col>
                                                       </el-row>

                                                       <el-row>
                                                           <el-col><div class="grid-content bg-purple-light">
                                                               <i class="iconfont icon-plus-add" @click="iclick($event)"  id="+"></i>
                                                               <i class="iconfont icon-plus-minus" @click="iclick($event)"  id="-"></i>
                                                               <i class="iconfont icon-chenghao" @click="iclick($event)" id="*"></i>
                                                               <i class="iconfont icon-chuhao" @click="iclick($event)" id="/"></i>
                                                               <i class="iconfont icon-zuokuohao1" @click="iclick($event)" id="("></i>
                                                               <i class="iconfont icon-youkuohao1" @click="iclick($event)" id=")"></i>
                                                           </div></el-col>
                                                       </el-row>
                                                   </div>
                                               </el-col>
                                           </el-row>
                                       </div>
                                       <!-- ------------------公式部分----------------->


                                       <div slot="footer" class="dialog-footer">
                                           <el-button @click="quxiao()">取 消</el-button>
                                           <el-button type="primary" @click="add()">确 定</el-button>
                                       </div>
                                   </el-dialog>
                               </div>
                                <el-checkbox-group v-model="checkList">
                                    <div id="vmcbox">
                                        <div v-for="zhibiao in zblist">
                                            <el-checkbox class="text item"  :label="zhibiao.label"></el-checkbox><br/>
                                        </div>
                                    </div>
                                </el-checkbox-group>
                            </el-card>
                        </el-col>
                        <el-col :span="8">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>结果过滤器</span>
                                    <!--<el-button style="float: right; padding: 3px 0" type="text" @click="testVisible = true">操作按钮</el-button>-->
                                </div>
                                <el-table :data="zblist" :show-header="false">
                                    <el-table-column
                                            type="selection"
                                            width="55">
                                    </el-table-column>
                                    <el-table-column  property="label" label="指标"></el-table-column>
                                    <el-table-column >
                                        <template slot-scope="scope">
                                            <el-popover
                                                    ref="popover1"
                                                    placement="top-start"
                                                    width="200"
                                                    trigger="click">
                                                <el-table :data="jgshaixuanList" :show-header="false" >
                                                    <el-table-column  property="jgshaixuan" label="想要的结果筛选"></el-table-column>
                                                    <el-table-column >
                                                        <template>
                                                            <el-popover
                                                                    ref="popover2"
                                                                    placement="top-start"
                                                                    width="200"
                                                                    trigger="hover">
                                                                <el-table :data="hzfangshiList" :row-class-name="tableRowClassName"  @row-click="rowClick()" :show-header="false">
                                                                    <el-table-column property="hzfangshi" label="汇总方式"></el-table-column>
                                                                </el-table>
                                                            </el-popover>
                                                            <el-button
                                                                    v-if=""
                                                                    type="text"
                                                                    v-popover:popover2 ><i class="el-icon-caret-bottom"></i></el-button>
                                                        </template>
                                                    </el-table-column>
                                                </el-table>
                                            </el-popover>
                                            <el-button
                                                    type="text"
                                                    v-popover:popover1 ><i class="el-icon-caret-bottom"></i></el-button>
                                        </template>
                                    </el-table-column>
                                </el-table>
                            </el-card>
                        </el-col>
                    </el-row>

                </div>

                <!-- 表格部分-->
                <template>
                    <div id="table1" style="display: ''">
                        <el-table
                                :data="tableData4.slice((currentPage-1)*pageSize,currentPage*pageSize)"
                                :header-cell-style="{background:'#0c1c2a',color:'#526cdf'}"
                                :cell-style="{background:'#0c1c2a',color:'#2e74f1'}"
                                border
                                style="width: 100%"
                                max-height="250">
                            <el-table-column
                                    prop="bankName"
                                    label="银行分支"
                                    width="300">
                            </el-table-column>
                            <el-table-column
                                    prop="zb1"
                                    label="今日存款金额">
                            </el-table-column>
<!--                            <el-table-column-->
<!--                                    prop="zb2"-->
<!--                                    label="昨日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb3"-->
<!--                                    label="比昨日（%）">-->
<!--                            </el-table-column>-->
                            <el-table-column
                                    fixed="right"
                                    label="操作"
                                    width="120">
                                <template slot-scope="scope">
                                    <el-button
                                            @click.native.prevent="deleteRow(scope.$index, tableData4)"
                                            type="text"
                                            size="small">
                                        移除
                                    </el-button>
                                </template>
                            </el-table-column>
                        </el-table>

                        <!-- 分页器 -->
                        <div class="block" style="margin-top:15px;">
                            <el-pagination align='center' @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="currentPage" :page-sizes="[2,5,10,20]" :page-size="pageSize" layout="total, sizes, prev, pager, next, jumper" :total="tableData4.length">
                            </el-pagination>
                        </div>
                    </div>
                </template>

<!--                <template>-->
<!--                    <div id="table2" style="display: none">-->
<!--                        <el-table-->
<!--                                :data="tableData4.slice((currentPage-1)*pageSize,currentPage*pageSize)"-->
<!--                                :header-cell-style="{background:'#0c1c2a',color:'#526cdf'}"-->
<!--                                :cell-style="{background:'#0c1c2a',color:'#2e74f1'}"-->
<!--                                border-->
<!--                                style="width: 100%"-->
<!--                                max-height="250">-->
<!--                            <el-table-column-->
<!--                                    prop="bankName"-->
<!--                                    label="银行分支"-->
<!--                                    width="300">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb1"-->
<!--                                    label="今日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb2"-->
<!--                                    label="昨日存款金额">-->
<!--                            </el-table-column>-->
<!--&lt;!&ndash;                            <el-table-column&ndash;&gt;-->
<!--&lt;!&ndash;                                    prop="zb3"&ndash;&gt;-->
<!--&lt;!&ndash;                                    label="比昨日（%）">&ndash;&gt;-->
<!--&lt;!&ndash;                            </el-table-column>&ndash;&gt;-->
<!--                            <el-table-column-->
<!--                                    fixed="right"-->
<!--                                    label="操作"-->
<!--                                    width="120">-->
<!--                                <template slot-scope="scope">-->
<!--                                    <el-button-->
<!--                                            @click.native.prevent="deleteRow(scope.$index, tableData4)"-->
<!--                                            type="text"-->
<!--                                            size="small">-->
<!--                                        移除-->
<!--                                    </el-button>-->
<!--                                </template>-->
<!--                            </el-table-column>-->
<!--                        </el-table>-->

<!--                        &lt;!&ndash; 分页器 &ndash;&gt;-->
<!--                        <div class="block" style="margin-top:15px;">-->
<!--                            <el-pagination align='center' @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="currentPage" :page-sizes="[2,5,10,20]" :page-size="pageSize" layout="total, sizes, prev, pager, next, jumper" :total="tableData4.length">-->
<!--                            </el-pagination>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </template>-->

<!--                <template>-->
<!--                    <div id="table3" style="display: none">-->
<!--                        <el-table-->
<!--                                :data="tableData4.slice((currentPage-1)*pageSize,currentPage*pageSize)"-->
<!--                                :header-cell-style="{background:'#0c1c2a',color:'#526cdf'}"-->
<!--                                :cell-style="{background:'#0c1c2a',color:'#2e74f1'}"-->
<!--                                border-->
<!--                                style="width: 100%"-->
<!--                                max-height="250">-->
<!--                            <el-table-column-->
<!--                                    prop="bankName"-->
<!--                                    label="银行分支"-->
<!--                                    width="300">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb1"-->
<!--                                    label="今日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb2"-->
<!--                                    label="昨日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb3"-->
<!--                                    label="上月同日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    fixed="right"-->
<!--                                    label="操作"-->
<!--                                    width="120">-->
<!--                                <template slot-scope="scope">-->
<!--                                    <el-button-->
<!--                                            @click.native.prevent="deleteRow(scope.$index, tableData4)"-->
<!--                                            type="text"-->
<!--                                            size="small">-->
<!--                                        移除-->
<!--                                    </el-button>-->
<!--                                </template>-->
<!--                            </el-table-column>-->
<!--                        </el-table>-->

<!--                        &lt;!&ndash; 分页器 &ndash;&gt;-->
<!--                        <div class="block" style="margin-top:15px;">-->
<!--                            <el-pagination align='center' @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="currentPage" :page-sizes="[2,5,10,20]" :page-size="pageSize" layout="total, sizes, prev, pager, next, jumper" :total="tableData4.length">-->
<!--                            </el-pagination>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </template>-->

<!--                <template>-->
<!--                    <div id="table4"  style="display: none">-->
<!--                        <el-table-->
<!--                                :data="tableData4.slice((currentPage-1)*pageSize,currentPage*pageSize)"-->
<!--                                :header-cell-style="{background:'#0c1c2a',color:'#526cdf'}"-->
<!--                                :cell-style="{background:'#0c1c2a',color:'#2e74f1'}"-->
<!--                                border-->
<!--                                style="width: 100%"-->
<!--                                max-height="250">-->
<!--                            <el-table-column-->
<!--                                    prop="bankName"-->
<!--                                    label="银行分支"-->
<!--                                    width="300">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb1"-->
<!--                                    label="今日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb2"-->
<!--                                    label="昨日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                prop="zb3"-->
<!--                                label="上月同日存款金额">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    prop="zb4"-->
<!--                                    label="比昨日（%）">-->
<!--                            </el-table-column>-->
<!--                            <el-table-column-->
<!--                                    fixed="right"-->
<!--                                    label="操作"-->
<!--                                    width="120">-->
<!--                                <template slot-scope="scope">-->
<!--                                    <el-button-->
<!--                                            @click.native.prevent="deleteRow(scope.$index, tableData4)"-->
<!--                                            type="text"-->
<!--                                            size="small">-->
<!--                                        移除-->
<!--                                    </el-button>-->
<!--                                </template>-->
<!--                            </el-table-column>-->
<!--                        </el-table>-->

<!--                        &lt;!&ndash; 分页器 &ndash;&gt;-->
<!--                        <div class="block" style="margin-top:15px;">-->
<!--                            <el-pagination align='center' @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="currentPage" :page-sizes="[2,5,10,20]" :page-size="pageSize" layout="total, sizes, prev, pager, next, jumper" :total="tableData4.length">-->
<!--                            </el-pagination>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </template>-->
            </div>


            <!-- 折线图部分-->
            <div id="zhexianView" style="display: none">
                <el-select  placeholder="选择业务包" v-model="value"@change="chooseSelectChange">
					<el-option
                            v-for="item in options"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
				
				<div >
                    <el-row>
                        <el-col :span="12">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>选择分行</span>
                                </div>
                                <template>
                                <el-select v-model="zexianvalue" placeholder="请选择">
									<el-option
										v-for="item in cities"
										:key="item.value"
										:label="item.label"
										:value="item.value">
									<span style="float: left">{{ item.label }}</span>
									<span style="float: right; color: #8492a6; font-size: 13px">{{ item.value }}</span>
									</el-option>
								</el-select>
								</template>
                            </el-card>
                        </el-col>
						 <el-col :span="2">
							<div>&nbsp;</div>
                        </el-col>
						<el-card class="box-card">
						<div slot="header" class="clearfix">
                               <span>选择时间段</span>
                        </div>
                        <el-col :span="10">
                             <div class="block">
                                               <span class="demonstration">时间范围： </span>
                                               <el-date-picker
                                                       v-model="value6"
                                                       type="daterange"
                                                       range-separator="至"
                                                       start-placeholder="开始日期"
                                                       end-placeholder="结束日期"
                                                       @change="getDate"
                                                       value-format="yyyy-MM-dd">
                                               </el-date-picker>
                               </div>	
                        </el-col>
						</el-card>
                    </el-row>
	
					<div id="main" style="width: 1000px;height:450px;">
						
					</div>
                </div>
				
            </div>

            <!-- 柱状图部分-->
            <div id="zhuzhuangView"  style="display: none">
                <el-select v-model="value" placeholder="选择业务包" @change="chooseSelectChange">
                    <el-option
                            v-for="item in options"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
                <div >
                    <el-row>
                        <el-col :span="8">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>分类</span>
                                    <!--<el-button style="float: right; padding: 3px 0" type="text" @click="testVisible = true">操作按钮</el-button>-->
                                </div>
                                <!--<div  class="text item">-->
                                <!--存储数-->
                                <!--</div>-->
                                <!-- <el-radio-group v-model="check">
                                    <el-radio ：label="备选框">备选框</el-radio><br/>
                                </el-radio-group> -->
                                 <el-radio-group v-model="check">
                                    <div v-for='fl in fenlei'>
                                      <el-radio @click.native='changebar' 
                                      :label="fl.label" class="text item" ></el-radio><br/>
                                    </div>
                                  </el-radio-group>
                            </el-card>
                        </el-col>
                        <el-col :span="8">
                            <el-card class="box-card">
                                <div slot="header" class="clearfix">
                                    <span>值轴</span>
                                    <el-button style="float: right; padding: 3px 0" type="text"  @click="clicktianjia()">添加计算指标</el-button>
                                </div>
                               <div>
                                   <el-dialog title="计算指标" :visible.sync="dialogFormVisible">
                                       <el-dialog
                                               width="30%"
                                               title="内层 Dialog"
                                               :visible.sync="innerVisible"
                                               append-to-body>
                                           <div class="block">
                                               <span class="demonstration">时间范围： </span>
                                               <el-date-picker
                                                       v-model="value6"
                                                       type="daterange"
                                                       range-separator="至"
                                                       start-placeholder="开始日期"
                                                       end-placeholder="结束日期"
                                                       @change="addcxDate"
                                                       value-format="yyyy-MM-dd">
                                               </el-date-picker>
                                           </div>
                                           <div slot="footer" class="dialog-footer">
                                               <el-button @click="innerquxiao()">取 消</el-button>
                                               <el-button type="primary" @click="addcxDate()">确 定</el-button>
                                           </div>
                                       </el-dialog>
                                       <el-form :model="form">
                                           <el-form-item label="指标名" :label-width="formLabelWidth">
                                               <el-input v-model="form.name" auto-complete="off"></el-input>
                                           </el-form-item>
                                           <el-form-item label="计算方式" :label-width="formLabelWidth">
                                               <el-select v-model="form.region" placeholder="选择指标生成方式" @change="zbWaysChange">
                                                   <el-option label="查询" value="chaxun" ></el-option>
                                                   <el-option label="公式" value="gongshi"></el-option>
                                               </el-select>
                                           </el-form-item>
                                       </el-form>


                                       <!-- ------------------公式部分----------------->
                                       <div id="gshiDiv" style="display:none;">
                                           <el-row>
                                               <el-col :span="8" >
                                                   <div id="gDivL" class="grid-content bg-purple-light">
                                                           <el-collapse  style="opacity: 0.5"><!--@node-click="handleNodeClick" -->
                                                               <el-tree :data="treedata" :props="defaultProps"  @node-click="getTreeChecked" ></el-tree>
                                                           </el-collapse>
                                                   </div>
                                               </el-col>
                                               <el-col :span="16">
                                                   <div >
                                                       <el-row>
                                                           <el-col>
                                                               <div  id="gDiv1" class="grid-content bg-purple"  contenteditable="true" >
                                                                   <span  v-for="sp in spanList" >
                                                                       <span v-if="sp.fuhao==='no'" role="presentation" class="textspan"  contenteditable="false">{{sp.label}}</span>
                                                                       <span v-else role="presentation"  contenteditable="false">{{sp.label}}</span>
                                                                   </span>

                                                                   <!--<div>-->
                                                                       <!--<span role="presentation" class="textspan"  contenteditable="false">存储率</span>-->
                                                                   <!--</div>-->
                                                               </div>
                                                           </el-col>
                                                       </el-row>

                                                       <el-row>
                                                           <el-col><div class="grid-content bg-purple-light">
                                                               <i class="iconfont icon-plus-add" @click="iclick($event)"  name="+"></i>
                                                               <i class="iconfont icon-plus-minus" @click="iclick($event)"  name="-"></i>
                                                               <i class="iconfont icon-chenghao" @click="iclick($event)" name="*"></i>
                                                               <i class="iconfont icon-chuhao" @click="iclick($event)" name="/"></i>
                                                               <i class="iconfont icon-zuokuohao1" @click="iclick($event)" name="("></i>
                                                               <i class="iconfont icon-youkuohao1" @click="iclick($event)" name=")"></i>
                                                           </div></el-col>
                                                       </el-row>
                                                   </div>
                                               </el-col>
                                           </el-row>
                                       </div>
                                       <!-- ------------------公式部分----------------->


                                       <div slot="footer" class="dialog-footer">
                                           <el-button @click="quxiao()">取 消</el-button>
                                           <el-button type="primary" @click="add()">确 定</el-button>
                                       </div>
                                   </el-dialog>
                               </div>
                                <el-radio-group v-model="check2">
                                    <div v-for='zz in zhizhou'>
                                      <el-radio @click.native='changebar' 
                                      :label="zz.label" class="text item" ></el-radio><br/>
                                    </div>
                                  </el-radio-group>
                            </el-card>
                        </el-col>                        
                    </el-row>
                </div>

                <div style="width:100%;height:35%;">
                  <div id="zhuzhuang" title="柱状图" style="width:1200px;height:400px;">柱状图
                  </div>
                </div>
            </div>




            <!-- 饼图部分-->
            <div id="binView"  style="display: none">
                <el-select v-model="value" placeholder="选择业务包" @change="chooseSelectChange">
                    <el-option
                            v-for="item in options"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
            </div>


        </div>
    </div>
</div>


<script>
    var Main = {
        data() {
            return {
			     cities: [{
				 value: 'Guangzhou',
				 label: '广州分行'
                 },{
				 value: 'Shaoguan',
                 label: '韶关分行'
                 },{
				 value: 'Shenzhen',
                 label: '深圳分行'
                 },{
				 value: 'Zhuhai',
                 label: '珠海分行'
                 },{
				 value: 'Shantou',
                 label: '汕头分行'
                 },{
				 value: 'Foshan',
                 label: '佛山分行'
                 },{
				 value: 'Jiangmen',
                 label: '江门分行'
                 },{
				 value: 'Zhanjiang',
                 label: '湛江分行'
                 },{
				 value: 'Maoming',
                 label: '茂名分行'
                 },{
				 value: 'Zhaoqing',
                 label: '肇庆分行'
                 },{
				 value: 'Huizhou',
                 label: '惠州分行'
                 },{
				 value: 'Meizhou',
                 label: '梅州分行'
                 },{
				 value: 'Shangwei',
                 label: '汕尾分行'
                 },{
				 value: 'Heyuan',
                 label: '河源分行'
                 },{
				 value: 'Yangjiang',
                 label: '阳江分行'
                 },{
				 value: 'Qingyuan',
                 label: '清远分行'
                 },{
				 value: 'Dongguan',
                 label: '东莞分行'
                 },{
				 value: 'Zhongshan',
                 label: '中山分行'
                 },{
				 value: 'Chaozhou',
                 label: '潮州分行'
                 },{
				 value: 'Jieyang',
                 label: '揭阳分行'
                 },{
				 value: 'Yunfu',
                 label: '云浮分行'
                 }
     ],			zexianvalue:'',
       
                hzfangshiList:[{
                    hzfangshi:'求和'
                },{
                    hzfangshi:'求平均'
                },{
                    hzfangshi:'求中位数'
                },{
                    hzfangshi:'求最大值'
                },{
                    hzfangshi:'求最小值'
                },{
                    hzfangshi:'求标准差'
                },{
                    hzfangshi:'求方差'
                }]
                ,
                jgshaixuanList:[{
                    jgshaixuan:'汇总方式（求和）'
                },{
                    jgshaixuan:'过滤'
                }],
                zblist :[{
                    id:1,
                    label:'今日存款金额',
                    isL:1
                },{
                    id:2,
                    label:'昨日存款金额',
                    isL:1
                },{
                    id:3,
                    label:'上月同日存款金额',
                    isL:1
                }],
                spanList:[],
                currentPage: 1, // 当前页码
                total: 20, // 总条数
                pageSize: 2, // 每页的数据条数
                tableData4: [{
                    bankName: '深圳分行',
                    zb1: '3887500',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '广州分行',
                    zb1: '1758900',
                    zb2: '50,120,164',
                    zzb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '汕尾分行',
                    zb1: '6243200',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '佛山分行',
                    zb1: '2887500',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '东莞分行',
                    zb1: '328600',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '中山分行',
                    zb1: '11866400',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '珠海分行',
                    zb1: '7130700',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '江门分行',
                    zb1: '4576000',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '肇庆分行',
                    zb1: '7347900',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '惠州分行',
                    zb1: '1089600',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '汕头分行',
                    zb1: '8652600',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '潮州分行',
                    zb1: '7529400',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '揭阳分行',
                    zb1: '917700',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '湛江分行',
                    zb1: '4452000',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '茂名分行',
                    zb1: '6016400',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '阳江分行',
                    zb1: '2619400',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '云浮分行',
                    zb1: '390000',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '韶关分行',
                    zb1: '1596600',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '清远分行',
                    zb1: '1149000',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '梅州分行',
                    zb1: '1186900',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }, {
                    bankName: '河源分行',
                    zb1: '1056000',
                    zb2: '50,120,164',
                    zb3: '1545161616',
                    zb4: '2.43%',
                }],
                treedata: [{
                    label: '数值字段',
                    children: [{
                        id:1,
                        label: '今日存款金额',
                        isL:1
                    },{
                        id:2,
                        label: '昨日存款金额',
                        isL:1
                    }]

                }],
                checkList: [],
                value1: '',
                options: [{
                    value: '开卡数',
                    label: '开卡表'
                }, {
                    value: '中间收入',
                    label: '中间业务表'
                }, {
                    value: '存款数',
                    label: '存款表'
                }, {
                    value: '贷款数',
                    label: '贷款表'
                }],
                value: '',
                value6: '',
                check: 1,
                check2: 1,
                fenlei: [{
                  value: '存款数',
                  label: '存款数'
                }],
                zhizhou: [{
                  value: '今日存款金额',
                  label: '今日存款金额'
                },{
                  value: '昨日存款金额',
                  label: '昨日存款金额'
                },{
                  value:'上月同日存款金额',
                  label:'上月同日存款金额'
                }],
                dialogTableVisible: false,
                dialogFormVisible: false,
                outerVisible: false,
                innerVisible: false,
                gongshiVisible: false,
                biaogeIsView: 0,
                zhexianIsView:1,
                zhuzhuangIsView:1,
                binIsView:1,
                form: {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                },
                dateform:{
                  startTime:'',
                  endTime:''
                },
                formLabelWidth: '120px',
                defaultProps: {
                    children: 'children',
                    label: 'label'
                }
            };
        },methods: {
            aclick(){
                var el = event.currentTarget;
               var v =  el.id;
                if (v==='biaogeV'){
                    if (this.biaogeIsView===0){//0是打开了 1是没打开
                        document.getElementById("biaogeView").style.display = "none";
                        this.biaogeIsView = 1;
                    }else {
                        document.getElementById("biaogeView").style.display = '';
                        document.getElementById("zhexianView").style.display = "none";
                        document.getElementById("zhuzhuangView").style.display = "none";
                        document.getElementById("binView").style.display = "none";
                        this.biaogeIsView = 0;
                        this.zhexianIsView = 1;
                        this.zhuzhuangIsView = 1;
                        this.binIsView = 1;
                    }
                }else if(v==='zhexianV'){//0是打开了 1是没打开
                    if (this.zhexianIsView===0){
                        document.getElementById("zhexianView").style.display = "none";
                        this.zhexianIsView = 1;
                    }else {
                        document.getElementById("zhexianView").style.display = '';
                        document.getElementById("biaogeView").style.display = "none";
                        document.getElementById("zhuzhuangView").style.display = "none";
                        document.getElementById("binView").style.display = "none";
                        this.zhexianIsView = 0;
                        this.biaogeIsView = 1;
                        this.zhuzhuangIsView = 1;
                        this.binIsView = 1;
                    }
                }else if(v==='zhuzhuangV'){
                    if (this.zhuzhuangIsView===0){
                        document.getElementById("zhuzhuangView").style.display = "none";
                        this.zhuzhuangIsView = 1;
                    }else {
                        document.getElementById("zhuzhuangView").style.display = '';
                        document.getElementById("biaogeView").style.display = "none";
                        document.getElementById("zhexianView").style.display = "none";
                        document.getElementById("binView").style.display = "none";
                        this.zhuzhuangIsView = 0;
                        this.biaogeIsView = 1;
                        this.zhexianIsView = 1;
                        this.binIsView = 1;
                    }
                }else if(v==='binV'){
                    if (this.binIsView===0){
                        document.getElementById("binView").style.display = "none";
                        this.binIsView = 1;
                    }else {
                        document.getElementById("binView").style.display = '';
                        document.getElementById("biaogeView").style.display = "none";
                        document.getElementById("zhexianView").style.display = "none";
                        document.getElementById("zhuzhuangView").style.display = "none";
                        this.binIsView = 0;
                        this.biaogeIsView = 1;
                        this.zhuzhuangIsView = 1;
                        this.zhexianIsView = 1;
                    }
                }
            },
            handleSizeChange(val) {
                //console.log(`每页 ${val} 条`);
                this.currentPage = 1;
                this.pageSize = val;
            },
            c(val) {
                // console.log(`当前页: ${val}`);
                this.currentPage = val;
            },
            deleteRow(index, rows) {
                rows.splice(index, 1);
            },

            chooseSelectChange(t) {
                alert(t);//打印选择器的选择值
            },
            add() {
                var zbName = this.form.name;
                if (zbName !== '') {
                    var newItem = {
                        label: zbName
                    }
                    this.zblist.push(newItem)
                }
                this.form = {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                };

                this.dialogFormVisible = false
                var string = document.getElementById("gsDiv1").innerText
                alert(document.getElementById("gsDiv1").innerText);
                var fields = {
                    '今日存款金额': 3219890,
                    '昨日存款金额': 3022122,
                };
                alert(this.rightzze(string, fields));
            },
            rightzze(string, obj) {
                // 剔除空白符
                string = string.replace(/\s/g, '');

                // 错误情况，空字符串
                if ("" === string) {
                    return false;
                }

                // 错误情况，运算符连续
                if (/[\+\-\*\/]{2,}/.test(string)) {
                    return false;
                }

                // 空括号
                if (/\(\)/.test(string)) {
                    return false;
                }

                // 错误情况，括号不配对
                var stack = [];
                for (var i = 0, item; i < string.length; i++) {
                    item = string.charAt(i);
                    if ('(' === item) {
                        stack.push('(');
                    } else if (')' === item) {
                        if (stack.length > 0) {
                            stack.pop();
                        } else {
                            return false;
                        }
                    }
                }
                if (0 !== stack.length) {
                    return false;
                }

                // 错误情况，(后面是运算符
                if (/\([\+\-\*\/]/.test(string)) {
                    return false;
                }

                // 错误情况，)前面是运算符
                if (/[\+\-\*\/]\)/.test(string)) {
                    return false;
                }

                // 错误情况，(前面不是运算符
                if (/[^\+\-\*\/]\(/.test(string)) {
                    return false;
                }

                // 错误情况，)后面不是运算符
                if (/\)[^\+\-\*\/]/.test(string)) {
                    return false;
                }

                // 错误情况，变量没有来自“待选公式变量”
                var stringlast = string;
                var tmpStr = string.replace(/[\(\)\+\-\*\/0123456789]{1,}/g, '`');
                var array = tmpStr.split('`');
                for (var i = 0, item; i < array.length; i++) {
                    item = array[i];
                    if (/[A-Z]/i.test(item) && 'undefined' === typeof(obj[item])) {<!-- i是不区分大小写 g是多匹配-->
                        return false;
                    }
                }
                //打印出含数字的结果
                for (var i = 0, item; i < array.length; i++) {
                    item = array[i];//文字
                    if (item!==''){
                        var o = obj[item];//对应的数字
                        stringlast = stringlast.replace(item, o);
                    }
                }
                var result = eval(stringlast);
                result = result.toFixed(3); //取小数点三位
                alert(stringlast + ' = ' + result);
                return true;
            },
            quxiao() {
                this.form = {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                };
                this.dialogFormVisible = false
            },
            innerquxiao() {
                this.form = {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                };
                this.innerVisible = false
                document.getElementById("gongshiDiv").style.display = "none";
            },
            zbWaysChange(v) {
                if (v === 'chaxun') {
                    document.getElementById("gongshiDiv").style.display = "none";
                    this.innerVisible = true;
                }
                if (v === 'gongshi') {
                    document.getElementById("gongshiDiv").style.display = "";
                }

            },
            addcxDate(t) {
                this.dateform.startTime = t[0];
                this.dateform.endTime = t[1];
                
            },
            getTreeChecked(data, node) {
                if (data.isL === 1) {
                    //alert(data.id);
                    //alert(data.label);
                    //调用div增加span方法
                    var t = {
                        fuhao: 'no',
                        label: data.label
                    }
                    this.spanList.push(t)
                    // vmspan.addToDiv(data.label);
                    this.$forceUpdate();
                    //alert('2');
                }
            },
            iclick() {
                var el = event.currentTarget;
                var t = {
                    fuhao: 'yes',
                    label: el.id
                }
                this.spanList.push(t);
            },
            clicktianjia(){
                this.form = {
                    name: '',
                    region: '',
                    date1: '',
                    date2: '',
                    delivery: false,
                    type: [],
                    resource: '',
                    desc: ''
                };
                this.dialogFormVisible = true;
                document.getElementById("gongshiDiv").style.display = "none";
                this.spanList=[]
            },
            tableRowClassName ({row, rowIndex}) {
            //把每一行的索引放进row
                row.index = rowIndex;
            },
            rowClick(row,event,column){
                alert(row.index);
            },
		getDate(t) {
		 let myChart = echarts.init(document.getElementById('main'));
		 let options = myChart.getOption();
		 myChart.clear();
         var getDate = function(str) {  
         var tempDate = new Date();  
         var list = str.split("-");  
         tempDate.setFullYear(list[0]);  
         tempDate.setMonth(list[1] - 1);  
         tempDate.setDate(list[2]);  
         return tempDate;  
		}  
		var date1 = getDate(t[0]);  
		var date2 = getDate(t[1]);  
		if (date1 > date2) {  
         var tempDate = date1;  
         date1 = date2;  
         date2 = tempDate;  
		}  
		date1.setDate(date1.getDate() + 1);  
		var dateArr = [];  
		var i = 0;  
		while (!(date1.getFullYear() == date2.getFullYear()  
             && date1.getMonth() == date2.getMonth() && date1.getDate() == date2  
             .getDate())) {  
          var dayStr =date1.getDate().toString();  
          if(dayStr.length ==1){  
            dayStr="0"+dayStr;  
          }  
          var monthStr = (date1.getMonth() + 1).toString();
          if(monthStr.length ==1){  
            monthStr="0"+monthStr;  
          }  
         dateArr[i] = date1.getFullYear() + "-" + monthStr + "-"  
                 + dayStr;  
					i++;  
         date1.setDate(date1.getDate() + 1);  
     }  
		 dateArr.splice(0,0,t[0])
		 dateArr.push(t[1]);
		 console.log(dateArr);
		 options.xAxis[0].data = dateArr;
		 var coldata = [];
		 var min = Math.ceil(20);
		 var max = Math.floor(40);
		 for(var i=0;i<dateArr.length;i++){
			
			coldata.push(Math.floor(Math.random() * (max - min)) + min); //不含最大值，含最小值
		 }
		 console.log(coldata);
		options.yAxis[0].name = "开卡数/张";
		 options.series[0].data = coldata;
		 myChart.setOption(options);
		 },
     changebar(d){
      let myChartbar = echarts.init(document.getElementById('zhuzhuang'));
     let options = myChartbar.getOption();
     myChartbar.clear();
     let bardata = [];
     let min = Math.ceil(10000);
     let max = Math.floor(100000);
     for(let i=0;i<21;i++){
      
      bardata.push(Math.floor(Math.random() * (max - min)) + min); //不含最大值，含最小值
     }
     console.log(bardata);
    options.yAxis[0].name = "存款数/元";
     options.series[0].data = bardata;
     myChartbar.setOption(options);
     }
    
  


        }
    };
    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#appdate')

</script>


<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        myChart.clear();
        option = {
    title : {
       
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['开卡数/张']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['bar', 'line']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
           
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value}'
            }
        }
    ],
    series : [
        {
            name:'开卡数',
            type:'line',
            
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        }
      
    ]
};
                    
	myChart.setOption(option);
</script>
<script type="text/javascript">
  //柱状图
  var myChartbar = echarts.init(document.getElementById('zhuzhuang'));
  let cs= [ '广州分行','韶关分行','深圳分行', '珠海分行','汕头分行',
      '佛山分行','江门分行','湛江分行','茂名分行','肇庆分行','惠州分行'
      ,'梅州分行', '汕尾分行','河源分行','阳江分行', '清远分行','东莞分行',
      '中山分行', '潮州分行','揭阳分行','云浮分行'];
var xAxisData = [];
var data1 = [];

for (var i = 0; i < 21; i++) {
    xAxisData.push('银行' + (i+1));
    data1.push(Math.random() * 2);
}

var itemStyle = {
    normal: {
      color: '#526cdf'
    },
    emphasis: {
        barBorderWidth: 1,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0,0,0,0.5)'
    }
};

option = {
    backgroundColor: '#ffffff',
    legend: {
        data: ['银行','数额'],
        align: 'left',
        left: 10
    },
    toolbox: {
        feature: {
            magicType: {
                type: ['stack', 'tiled']
            },
            dataView: {}
        }
    },
    tooltip: {},
    xAxis: {
        data: cs,
        name: 'X Axis',
        silent: false,
        axisLine: {onZero: true},
        splitLine: {show: false},
        splitArea: {show: false}
    },
    yAxis: {
        splitArea: {show: false}
    },
    grid: {
        left: 100
    },
    series: [
        {
            name: '金额',
            type: 'bar',
            // stack: 'one',
             markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            itemStyle: itemStyle,
            data: data1
        }
    ]
};

myChartbar.setOption(option);

</script>

<style>
    .flex {
        display: -webkit-flex;
        display: flex;
        justify-content:space-around;
        width: 70%;
    }

    .text {
        font-size: 14px;
    }

    .item {
        margin-bottom: 18px;
    }

    .clearfix:before,
    .clearfix:after {
        display: table;
        content: "";
    }
    .clearfix:after {
        clear: both
    }

    /*卡片的宽度 这里应该再调一下卡片之间的距离*/
    /*.box-card {*/
        /*width: 480px;*/
    /*}*/

    .el-col {
        border-radius: 4px;
    }
    .bg-while {
        background: #ffffff;
    }
    .bg-purple {
        background: #d3dce6;
    }
    .bg-purple-light {
        background: #e5e9f2;
    }
    .grid-content {
        border-radius: 4px;
        min-height: 36px;
    }
    .row-bg {
        padding: 10px 0;
        background-color: #f9fafc;
    }
    #gsDiv1{
        height: 200px;
    }
    #gsDivL{
        height: 236px;
    }
	#main{
		position:relative;
		top:30px;
		left:80px;
	}
    #appdate{
        position: relative;
        font-size: 20px;
    }
    .textspan{
        color: #3685f2;
        /*Font: 12px;*/
        background: rgba(54,133,242,0.1);
        margin:0px 1px;
        padding: 0px 2px;
    }
</style>
<script type="text/javascript">

</script>
</body>
</html>