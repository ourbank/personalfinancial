<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <META HTTP-EQUIV="pragma" CONTENT="no-cache">
    <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
    <META HTTP-EQUIV="expires" CONTENT="0">
    <script type="text/javascript" src="js/rem.js"></script>
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.transit.js"></script>
    <script type="text/javascript" src="js/jquery.table2excel.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/stomp.min.js"></script>
    <script type="text/javascript" src="js/sockjs.min.js"></script>
	<script type="text/javascript" src="js/DatePicker.js"></script>
    <!-- 先引入 Vue -->
    <script type="text/javascript" src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- qs axios-->
    <script type="text/javascript" src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/qs/6.5.1/qs.min.js"></script>
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <!--excel导出相关的包-->
    <script type="text/javascript" src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/blob.js@1.0.1/Blob.js"></script>
    <script type="text/javascript" src="https://unpkg.com/file-saver@1.3.3/FileSaver.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/font/iconfont.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>ICBC个金运营管理平台</title>
</head>

<body style="visibility: hidden;overflow: hidden">
<div class="container-flex" id="wholepage" tabindex="0" hidefocus="true">
    <div class="box-left" >
        <div class="left-top">
            <div class="current-num">
                <div class="weather-box">
                    <div class="data">
                        <p class="time" id="time">00:00:00</p>
                        <p id="date"></p>
                    </div>
                    <div class="weather">
                        <img id="weatherImg" src="images/weather/weather_img01.png" alt="">
                        <div id="weather">
                            <p class="active">多云</p>
                            <p>25-31℃</p>
                            <p>广州市天河区</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="left-center">
            <div class="title-box">
                <h6 id="title1" title="点击进入详情页">业务指标分析</h6>
                <img class="line-img" src="images/line-blue.png" alt="">
                <button id="filBtn"><img src="images/select_icon.png" alt="">定制</button>
            </div>
            <div class="chart-box">
                <div class="filter-con" id="filCon" data-type="1">
                    <div class="select" tabindex="0" hidefocus="true">

                    </div>
                    <div class="select" tabindex="0" hidefocus="true">
                        <div id="analyli1_1" class="select-div">业务指标</div>
                        <ul class="select-ul" id="select_business">
                            <li data-value="0">开卡数</li>
                            <li data-value="1">贷款数</li>
                            <li data-value="2">存款数</li>
                            <li data-value="3">中间收入</li>
                        </ul>
                    </div>
                    <div class="select" tabindex="0" hidefocus="true">
                        <div id="analyli1_2" class="select-div">分析指标</div>
                        <ul class="select-ul" id="select_factor">
                            <li data-value="0">职业</li>
                            <li data-value="1">年龄</li>
                            <li data-value="2">住址</li>
                            <li data-value="3">性别</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="chart-box pie-chart">
                <div id="pie"></div>
<!--                <div>-->
<!--                    <div class="pie-data">-->
<!--                    </div>-->
<!--                </div>-->
            </div>
        </div>
        <div class="left-bottom" class="select">
            <div class="title-box">
                <h6 style="cursor:pointer;" id="title2">业务指标预测</h6>
                <img class="line-img" src="images/line-blue.png" alt="">
                <button id="fil1Btn"><img src="images/select_icon.png" alt="">筛选</button>
            </div>
            <div class="chart-box">
                <div class="filter-con" id="fil1Con" data-type="1">
                    <div class="select" tabindex="0" hidefocus="true">
                    </div>
                    <div class="select" tabindex="0" hidefocus="true">
                    </div>
                    <div class="select" tabindex="0" hidefocus="true">
                        <div id="analyli2_1" class="select-div">预测指标</div>
                        <ul class="select-ul" id ="pre_select_business">
                            <li data-value="1">开卡数</li>
                            <li data-value="2">贷款数</li>
                            <li data-value="3">存款数</li>
                            <li data-value="4">中间收入</li>
                        </ul>
                    </div>
                </div>
                <div id="prechart" class="gd-map" style="width:100%;height: 280px;">
                </div>
            </div>
        </div>
    </div>
    <div class="box-center">
        <div class="center-top">
            <h1>ICBC个金运营管理平台</h1>
        </div>
        <div class="center-center">
            <div class="select-box-map">
                <div id="tobigmap" class="main_title">
                    <img style="width:0.3rem;height:0.3rem;" src="images/location.png" alt="">
                    地点选择
                </div>
                <div id="gdMap" class="gd-map">
                </div>
            </div>
            <div class="select-box-map1">
                <div class="main_title">
                    <img style="width:0.3rem;height:0.3rem;" src="images/spreadsheet.png" alt="">
                    业务选择
                </div>
                <div id="Jcardnum" class="t_mbox">
                    <i style="background: url(./images/bankcard.png) no-repeat;background-size: 100% 100%;width:0.7rem;height:0.7rem;left:0.65rem"></i>
                    <span>开卡数</span>
                    <h2></h2>
                </div>
                <div id="Jloan" class="t_mbox">
                    <i style="background: url(./images/vip.png) no-repeat;background-size: 100% 100%;"></i>
                    <span>贷款数</span>
                    <h2></h2>
                </div>
                <div id="Jcash" class="t_mbox">
                    <i style="background: url(./images/consumption.png) no-repeat;background-size: 100% 100%;"></i>
                    <span>存款数</span>
                    <h2></h2>
                </div>
                <div id="Jmiddle" class="t_mbox">
                    <i style="background: url(./images/indent.png) no-repeat;background-size: 100% 100%;"></i>
                    <span>中间收入</span>
                    <h2></h2>
                </div>
            </div>
            <div class="select-box-map2">
                <div class="select-box-map2_1">
                    <div class="main_title">
                        <img style="width:0.3rem;height:0.3rem;" src="images/time.png" alt="">
                        时间选择
                    </div>
					
                    <div class="time-box" id="timeBox">
                        <div class="time-div">
                            <input class="time-input" type="text" value="开始时间" id="startTime">
                            <img src="images/selsct_time.png" alt="">
                        </div>
                        <div class="time-div end">
                            <input class="time-input" type="text" value="结束时间" id="endTime">
                            <img src="images/selsct_time.png" alt="">
                        </div>
                    </div>
                </div>
				<div class="pages-div" >
                    <button id="commit" class="skip2" >开始查询</button>
				</div>
                <div class="select-box-map2_2" id="vueRecommand">
                    <div id='tohistory' class="main_title" style="cursor:pointer">
                        <img style="width:0.3rem;height:0.3rem;" src="images/time.png" alt="">
                        推荐
                    </div>
                    <div class="historydata-box" v-for="rec in recdata">
                        <p class="historydata" id='historydata1'>{{ rec.title }}</p >
                    </div>

                </div>
                <!--<div class="select-box-map2_2">
                    <div id='tohistory' class="main_title" style="cursor:pointer">
                        <img style="width:0.3rem;height:0.3rem;" src="images/time.png" alt="">
                        历史查询
                    </div>
                    <div class="historydata-box">
                        <p class="historydata" id='historydata1'>1. 2019-06-19 17:52 查询开卡数</p>
                    </div>
                    <div class="historydata-box">
                        <p class="historydata" id='historydata2'>2. 2019-07-10 11:52 分析职业和贷款数</p>
                    </div>
                    <div class="historydata-box">
                        <p class="historydata">3. 2019-07-11 22:52 预测贷款数</p>
                    </div>

                </div>-->
            </div>
        </div>
        <div class="center-bottom">
            <div class="chart-box">
                <div id="chart4" style="width:100%;height:95%;"></div>
            </div>
        </div>
    </div>
</div>

<div id="main_hover">
    <img  src="images/navigate-left.png">
</div>

<div id = "right_float_window" >
    <div id="his-save" class="float_window_icon" title="导出报表">
        <img src="images/export.png" >
    </div>
    <div class="float_window_icon" title="其他">
        <img src="images/door.png" >
    </div>

</div>


<div class="container">
    <div class="pop-up">
        <span class="close-pop"></span>
        <h2 class="title">业务指标分析</h2>
        <div id="bigchart1" class="analy-pop" style="width:30%;height:40%;
        right:70%;top:10%  "></div>
        <div class="chart-box pie-chart">
            <div class="pie"></div>
            <div>
                <div class="pie-data1" id="pie1" style="left:-60%;top:5%">
                </div>
            </div>
        </div>

        <div id="bigchart2" class="analy-pop" style="width:30%;height:40%;
        right:25%;top:10%  "></div>
        <div class="chart-box pie-chart">
            <div class="pie"></div>
            <div>
                <div class="pie-data1" id="pie2" style="left:55%;top:5%">

                </div>
            </div>
        </div>

        <div id="bigchart3" class="analy-pop" style="width:30%;height:40%;
        right:70%;top:50%  "></div>
        <div class="chart-box pie-chart">
            <div class="pie"></div>
            <div>
                <div class="pie-data1" id="pie3" style="left:-60%;top:57%">

                </div>
            </div>
        </div>

        <div id="bigchart4" class="analy-pop" style="width:30%;height:40%;
        right:25%;top:50%  "></div>
        <div class="chart-box pie-chart">
            <div class="pie"></div>
            <div>
                <div class="pie-data1" id="pie4" style="left:55%;top:50%">

                </div>
            </div>
        </div>
    </div>

    <div class="pop-up pre-pop-up">
        <span class="close-pop"></span>
        <h2 id = "big_title2" class="title">业务预测分析</h2>
        <div class = "pre-navigation" >
            <div class="float_window_icon" id = 'pre_plan_btn' title="配置计划">
                <img src="images/config.png" >
            </div>
            <div class="float_window_icon" id = 'pre_chart_btn' title="预测图表">
                <img src="images/line_chart.png" >
            </div>
        </div>
        <div class = "pre-left">
            <div class="pre-left-top">
                <div class="pages-div" class="mineus">
                </div>
            </div>
            <div class="pre-left-bottom">
                <div id="chart11" style="width:100%;height: 100%;"></div>
            </div>
        </div>

        <div class="pre-right2">
            <div class="pages-div" class="mineus">
                <p><span>警报情况</span></p>
            </div>
            <div id="gdMap_alert" class="gd-map">
            </div>
        </div>
    </div>

    <div class="pop-up">
        <span class="close-pop"></span>
        <h2 class="title">查询历史</h2>
        <div class="history-left">
            <div class="history-left-top">
                <table class="table3">
                    <thead>
                    <tr>
                        <th>操作时间</th>
                        <th>操作类型</th>
                        <th>时间</th>
                        <th>地点</th>
                        <th>业务</th>
                    </tr>
                    </thead>
                    <tbody id="tList">
                    <tr>
                        <td>2019-06-19 17:52</td>
                        <td>查询</td>
                        <td>2019-06-15 16:00</td>
                        <td>广州</td>
                        <td>开卡数</td>
                    </tr>
                    <tr>
                        <td>2019-06-19 17:52</td>
                        <td>查询</td>
                        <td>2019-06-15 16:00</td>
                        <td>广州</td>
                        <td>开卡数</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="history-left-bottom">
                <div class="pages-div" class="mineus">
                    <button class="skip savehistory">另存为</button>
                </div>
            </div>
        </div>
        <div class="history-right">
            <div id="historychat"></div>
        </div>
    </div>

    <div class="pop-up">
        <span class="close-pop"></span>
        <h2 class="title">地图详情</h2>
        <div class="map-center">
            <div id="gdMap_big"></div>
        </div>
    </div>

    <div class="pop-up pre-pop-up">
        <span class="close-pop"></span>
        <h2 class="title" id ='big_title_plan'>计划配置</h2>
        <div class = "pre-navigation" >
            <div class="float_window_icon" id = 'plan_plan_btn' title="配置计划">
                <img src="images/config.png" >
            </div>
            <div class="float_window_icon" id = 'plan_chart_btn' title="预测图表">
                <img src="images/line_chart.png" >
            </div>
        </div>
        <div class="pre-right1">
            <div class="pages-div" class="mineus">
                <button id="1mon" class="skip">月</button>
                <button id="3mon" class="skip">季度</button>
                <button id="12mon" class="skip">年</button>
                <p><span style="cursor:pointer" id="gz_click">广州市：</span></p>
                <input id="广州target">
                <button id="pre_all_btn" class="skip2">智能分配</button>
                <button id="pre_ana_btn" class="skip2">分析</button>
            </div>
            <div class="city-container">
            </div>
        </div>
    </div>

    <div class="pop-up ana-pop-up">
        <span class="close-pop"></span>
        <h2 class="title">业务指标分析</h2>
        <div class = "pre-navigation" >
            <div class="float_window_icon" id = 'ana_config_btn' title="配置分析项">
                <img src="images/addconfig.png" >
            </div>
            <div class="float_window_icon" id = 'ana_chart_btn' title="分析图表">
                <img src="images/infographic.png" >
            </div>
        </div>
        <div class = 'ana_main' id ='ana_config_page'>
            <input id ="test_color">
            <button id = "ana_test">新增一个图表</button>
        </div>
        <div class = 'ana_main' id ='ana_chart_page'>

        </div>
    </div>

    <div class="pop-up ana-pop-up">
        <span class="close-pop"></span>
        <h2 class="title">历史数据保存</h2>
        <div class="GM_ipone">
            <div class="GM_ipone_bar" id="apptop">
                <div class="GM_ipone_one a">
                    筛选条件
                </div>
                <a class="select-attr" href="#" v-for="(pan,index) in panlist.list" @click="deleteSelected(index)"> {{ pan.panAttrValue }}<b> ✖ </b>
                </a>
            </div>
        </div>
        <div class="GM_banner w">
            <div class="GM_nav">
                <div class="GM_selector">
                    <div class="title">
                        <h3><em>导出筛选</em></h3>
                    </div>
                    <div class="GM_nav_logo" id="app"  >
                        <div  class="GM_pre" v-for="(attrinfo,index) in attrlist" >
                            <div class="sl_key"  >
                                <span  >{{ attrinfo.attrName }} :</span>
                            </div>
                            <div class="sl_value"  >
                                <ul v-for="attrValue in attrinfo.attrValueList">
                                        <a @click="addSelected($event,index)" >{{ attrValue.valueName }}</a>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="appdate">
            <template>
                <div class="block"  >
                    <div style = "width:1200px; margin:auto" >
                        <span class="demonstration" style=" color:#56abe4; font-size: 14px;margin: 0px auto;" >时间范围：</span>
                        <el-date-picker
                                v-model="value1"
                                type="daterange"
                                range-separator="至"
                                start-placeholder="开始日期"
                                end-placeholder="结束日期"
                                @change="chooseTimeRange"
                                value-format="yyyy-MM-dd">
                        </el-date-picker>
                        <el-button  icon="el-icon-download" circle onclick="exportExcel_Doit()" ></el-button>
                    </div>
                </div>
            </template>
        </div>
        <div id="apptable">
            <el-table
                    id = "historySaveTable"
                    border
                    :header-cell-style="{background:'#0c1c2a',color:'#526cdf'}"
                    :cell-style="{background:'#0c1c2a',color:'#2e74f1'}"
                    :data="table.tableData.slice(0,1*5)"
                    style="width: 1200px;margin:auto;color:#56abe4;">
                <template v-for='(col) in table.tablecolData'>
                    <el-table-column
                            :prop="col.colItem"
                            :label="col.colName"
                    >
                    </el-table-column>
                </template>
            </el-table>
        </div>
    </div>
    <div id="downloadTable" style="visibility: hidden;">
        <el-table
                id = "downloan-his"
                border
                :data="table.tableData"
                style="width: 1200px;margin:auto;color:#56abe4;">
            <template v-for='(col) in table.tablecolData'>
                <el-table-column
                        :prop="col.colItem"
                        :label="col.colName"
                        width="124px"
                >
                </el-table-column>
            </template>
        </el-table>
    </div>
</div>

    <div class="container2">
        <div class="pop-up1">
            <span class="close-pop"></span>
            <h2 class="title">计划配置</h2>
            <div id="pages-div" class="pages-div" class="mineus">
                <p><span>预测时长：</span></p>
                <input id="pre_period" type="number" max="6" min="1">
            </div>
            <div class="detail-container">
            </div>
        </div>
    </div>
</div>

</body>
<script type="text/javascript" src="js/layer/layer.min.js"></script>
<script type="text/javascript" src="js/layer/laydate/laydate.js"></script>
<script type="text/javascript" src="js/echarts.min.js"></script>
<script type="text/javascript" src="js/echarts-gl.min.js"></script>
<script type="text/javascript" src="js/echarts-wordcloud.min.js"></script>
<script type="text/javascript" src="js/china.js"></script>
<script type="text/javascript" src="js/data/guangdong.js"></script>
<script type="text/javascript" src="js/base.js"></script>
<script type="text/javascript">
    $('document').ready(function () {
        $("body").css('visibility', 'visible');
        var localData = [$('#teacher').val(), $('#start').val() + '/' + $('#end').val(), $('#leader').val()]
        localStorage.setItem("data", localData);
        $('#conBtn').on('click', function () {
            localData = [$('#teacher').val(), $('#start').val() + '/' + $('#end').val(), $('#leader').val()]
            if (typeof (Storage) !== "undefined") {
                localStorage.setItem("data", localData);
                var arr = localStorage.getItem("data").split(',');
                $('#name_a').html(arr[0]);
                $('#date_a').html(arr[1]);
                $('#lea_a').html(arr[2]);
            }
        });
        registerwebsock();
        //connect();
    });

</script>
<script>
    var vmRecommand = new Vue({
        el: '#vueRecommand',
        data: {
            recdata :null
        }
    })
</script>
</html>